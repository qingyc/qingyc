<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000">
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top">
  
  
  <title>adb | 青同学</title>
  <meta name="description" content="Adb常用命令小结基础1234adb version  显示 adb 版本 adb help  帮助 adb start-server  启动 adbadb kill-server  停止 adb 服务器  一.设备控制12345678910-d	指定当前唯一通过 USB 连接的 Android 设备为命令目标-e	指定当前唯一运行的模拟器为命令目标-s &amp;lt;serialNumber&amp;gt;">
<meta name="keywords" content="Android,adb">
<meta property="og:type" content="article">
<meta property="og:title" content="adb">
<meta property="og:url" content="http://qingyc.github.io/2019/08/18/adb/index.html">
<meta property="og:site_name" content="青同学">
<meta property="og:description" content="Adb常用命令小结基础1234adb version  显示 adb 版本 adb help  帮助 adb start-server  启动 adbadb kill-server  停止 adb 服务器  一.设备控制12345678910-d	指定当前唯一通过 USB 连接的 Android 设备为命令目标-e	指定当前唯一运行的模拟器为命令目标-s &amp;lt;serialNumber&amp;gt;">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-08-18T08:34:06.624Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="adb">
<meta name="twitter:description" content="Adb常用命令小结基础1234adb version  显示 adb 版本 adb help  帮助 adb start-server  启动 adbadb kill-server  停止 adb 服务器  一.设备控制12345678910-d	指定当前唯一通过 USB 连接的 Android 设备为命令目标-e	指定当前唯一运行的模拟器为命令目标-s &amp;lt;serialNumber&amp;gt;">
  <!-- Canonical links -->
  <link rel="canonical" href="http://qingyc.github.io/2019/08/18/adb/index.html">
  
    <link rel="alternate" href="/atom.xml" title="青同学" type="application/atom+xml">
  
  
    <link rel="icon" href="../images/logo.jpeg" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/qingyc" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpeg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">青同学</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Android Developer &amp; 白日梦患者</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">Archives</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">Categories</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">Tags</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">About</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/qingyc" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Adb/">Adb</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/">Kotlin</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/Android/">Android</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/qing/">qing</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kotlin/">Kotlin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/adb/">adb</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Android/" style="font-size: 14px;">Android</a> <a href="/tags/Hexo/" style="font-size: 13px;">Hexo</a> <a href="/tags/Kotlin/" style="font-size: 13px;">Kotlin</a> <a href="/tags/adb/" style="font-size: 13px;">adb</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Adb/">Adb</a>
              </p>
              <p class="item-title">
                <a href="/2019/08/18/adb/" class="title">adb</a>
              </p>
              <p class="item-date">
                <time datetime="2019-08-18T08:25:35.000Z" itemprop="datePublished">2019-08-18</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Kotlin/">Kotlin</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/Kotlin/Android/">Android</a>
              </p>
              <p class="item-title">
                <a href="/2019/08/18/kotlin泛型相关-reifield/" class="title">kotlin泛型相关_reifield</a>
              </p>
              <p class="item-date">
                <time datetime="2019-08-18T08:18:45.000Z" itemprop="datePublished">2019-08-18</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Android/">Android</a>
              </p>
              <p class="item-title">
                <a href="/2019/07/28/PorterDuffXfermode的一些使用问题/" class="title">PorterDuffXfermode的一些使用问题</a>
              </p>
              <p class="item-date">
                <time datetime="2019-07-28T05:39:56.000Z" itemprop="datePublished">2019-07-28</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/qing/">qing</a>
              </p>
              <p class="item-title">
                <a href="/2019/07/21/HelloWorld/" class="title">开始整理下吧 ...</a>
              </p>
              <p class="item-date">
                <time datetime="2019-07-20T17:01:10.000Z" itemprop="datePublished">2019-07-21</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Hexo/">Hexo</a>
              </p>
              <p class="item-title">
                <a href="/2019/07/20/hexo-github-pages/" class="title">hexo-github-pages</a>
              </p>
              <p class="item-date">
                <time datetime="2019-07-20T09:17:53.000Z" itemprop="datePublished">2019-07-20</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-adb" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      adb
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2019/08/18/adb/" class="article-date">
	  <time datetime="2019-08-18T08:25:35.000Z" itemprop="datePublished">2019-08-18</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Adb/">Adb</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/Android/">Android</a>, <a class="article-tag-link" href="/tags/adb/">adb</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2019/08/18/adb/#comments" class="article-comment-link">Comments</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1 id="Adb常用命令小结"><a href="#Adb常用命令小结" class="headerlink" title="Adb常用命令小结"></a>Adb常用命令小结</h1><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb version  显示 adb 版本 </span><br><span class="line">adb help  帮助 </span><br><span class="line">adb start-server  启动 adb</span><br><span class="line">adb kill-server  停止 adb 服务器</span><br></pre></td></tr></table></figure>

<h3 id="一-设备控制"><a href="#一-设备控制" class="headerlink" title="一.设备控制"></a>一.设备控制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-d	指定当前唯一通过 USB 连接的 Android 设备为命令目标</span><br><span class="line">-e	指定当前唯一运行的模拟器为命令目标</span><br><span class="line">-s &lt;serialNumber&gt;	指定相应 serialNumber 号的设备/模拟器为命令目标</span><br><span class="line"></span><br><span class="line">adb devices 显示设备</span><br><span class="line">adb reboot 重启</span><br><span class="line">adb -s 选择设备</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">adb -s emulator-5556 reboot   重启 emulator-5556</span><br></pre></td></tr></table></figure>

<h3 id="二-安装卸载"><a href="#二-安装卸载" class="headerlink" title="二.安装卸载"></a>二.安装卸载</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb install  path_to_apk</span><br><span class="line">adb uninstall packageName</span><br></pre></td></tr></table></figure>

<h3 id="三-文件复制到设备"><a href="#三-文件复制到设备" class="headerlink" title="三.文件复制到设备"></a>三.文件复制到设备</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb pull remote local</span><br><span class="line">adb push local remote</span><br></pre></td></tr></table></figure>

<p>在上述命令中，local 和 remote 指的是开发计算机（本地）和模拟器/设备实例（远程）上目标文件/目录的路径。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb push foo.txt /sdcard/foo.txt</span><br></pre></td></tr></table></figure>

<h3 id="四-Shell-在目标模拟器-设备实例中启动远程-shell"><a href="#四-Shell-在目标模拟器-设备实例中启动远程-shell" class="headerlink" title="四.Shell 在目标模拟器/设备实例中启动远程 shell"></a>四.Shell 在目标模拟器/设备实例中启动远程 shell</h3><p>不进入模拟器/设备实例上的 adb 远程 shell 发出设备命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb [-d|-e|-s serial_number] shell shell_command</span><br></pre></td></tr></table></figure>

<p>进入模拟器/设备实例上的远程 shell：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb [-d|-e|-s serial_number] shell</span><br></pre></td></tr></table></figure>

<p>当您准备退出远程 shell 时，按 Control + D 或输入 exit。</p>
<p>shell 命令二进制文件存储在模拟器或设备的文件系统中，其路径为 /system/bin/</p>
<h4 id="4-1-获取设备信息"><a href="#4-1-获取设备信息" class="headerlink" title="4.1 获取设备信息"></a>4.1 获取设备信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop</span><br></pre></td></tr></table></figure>

<h4 id="4-2-Window-manager"><a href="#4-2-Window-manager" class="headerlink" title="4.2 Window manager"></a>4.2 Window manager</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell wm</span><br></pre></td></tr></table></figure>

<p>帮助</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Window manager (window) commands:</span><br><span class="line">  help</span><br><span class="line">      Print this help text.</span><br><span class="line">  size [reset|WxH|WdpxHdp]</span><br><span class="line">    Return or override display size.</span><br><span class="line">    width and height in pixels unless suffixed with &apos;dp&apos;.</span><br><span class="line">  density [reset|DENSITY]</span><br><span class="line">    Return or override display density.</span><br><span class="line">  overscan [reset|LEFT,TOP,RIGHT,BOTTOM]</span><br><span class="line">    Set overscan area for display.</span><br><span class="line">  scaling [off|auto]</span><br><span class="line">    Set display scaling mode.</span><br><span class="line">  dismiss-keyguard</span><br></pre></td></tr></table></figure>

<p>例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">获取屏幕尺寸命令:</span><br><span class="line">adb shell wm size</span><br><span class="line"></span><br><span class="line">返回结果:</span><br><span class="line">Physical size: 1080x2160</span><br></pre></td></tr></table></figure>

<h4 id="4-3-am-Activity-Manager"><a href="#4-3-am-Activity-Manager" class="headerlink" title="4.3 am Activity Manager"></a>4.3 am Activity Manager</h4><p>在 adb shell 中，您可以使用 Activity Manager (am) 工具发出命令以执行各种系统操作，如启动 Activity、强行停止进程、广播 intent、修改设备屏幕属性及其他操作</p>
<h5 id="4-3-1-常用命令"><a href="#4-3-1-常用命令" class="headerlink" title="4.3.1 常用命令:"></a>4.3.1 常用命令:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">启动 </span><br><span class="line">adb shell am start -n 包名/activity名(全路径)</span><br><span class="line">关闭</span><br><span class="line">adb shell am force-stop 包名</span><br><span class="line">例:打开浏览器</span><br><span class="line">先 adb shell 再:</span><br><span class="line">打开浏览器</span><br><span class="line">am start -a android.intent.action.VIEW -d  http://www.google.cn/</span><br></pre></td></tr></table></figure>

<h5 id="4-3-2-start-启动-intent-指定的-Activity"><a href="#4-3-2-start-启动-intent-指定的-Activity" class="headerlink" title="4.3.2 start 启动 intent 指定的 Activity"></a>4.3.2 start 启动 intent 指定的 Activity</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">start [options] intent	启动 intent 指定的 Activity。</span><br><span class="line">请参阅 intent 参数的规范。</span><br><span class="line"></span><br><span class="line">选项包括：</span><br><span class="line"></span><br><span class="line">-D：启用调试。</span><br><span class="line">-W：等待启动完成。</span><br><span class="line">--start-profiler file：启动分析器并将结果发送到 file。</span><br><span class="line">-P file：类似于 --start-profiler，但当应用进入空闲状态时分析停止。</span><br><span class="line">-R count：重复 Activity 启动 count 次数。在每次重复前，将完成顶部 Activity。</span><br><span class="line">-S：启动 Activity 前强行停止目标应用。</span><br><span class="line">--opengl-trace：启用 OpenGL 函数的跟踪。</span><br><span class="line">--user user_id | current：指定要作为哪个用户运行；如果未指定，则作为当前用户运行。</span><br></pre></td></tr></table></figure>

<h5 id="4-3-3-startService-启动-intent-指定的-Service"><a href="#4-3-3-startService-启动-intent-指定的-Service" class="headerlink" title="4.3.3 startService 启动 intent 指定的 Service"></a>4.3.3 startService 启动 intent 指定的 Service</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">startservice [options] intent</span><br></pre></td></tr></table></figure>

<h5 id="4-3-4-other"><a href="#4-3-4-other" class="headerlink" title="4.3.4 other"></a>4.3.4 other</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">broadcast [options] intent	发出广播 intent</span><br><span class="line">force-stop package	强行停止与 package（应用的包名称）关联的所有应用</span><br><span class="line">kill [options] package	终止与 package（应用的包名称）关联的所有进程。此命令仅终止可安全终止且不会影响用户体验的进程</span><br><span class="line">kill-all	终止所有后台进程</span><br><span class="line">clear-debug-app	使用 set-debug-app 清除以前针对调试用途设置的软件包</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h5 id="4-3-5-intent-参数的规范"><a href="#4-3-5-intent-参数的规范" class="headerlink" title="4.3.5 intent 参数的规范"></a>4.3.5 intent 参数的规范</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">对于采用 intent 参数的 Activity Manager 命令，您可以使用以下选项指定 intent：</span><br><span class="line"></span><br><span class="line">-a action</span><br><span class="line">指定 intent 操作，如“android.intent.action.VIEW”。此指定只能声明一次。</span><br><span class="line">-d data_uri</span><br><span class="line">指定 intent 数据 URI，如“content://contacts/people/1”。此指定只能声明一次。</span><br><span class="line">-t mime_type</span><br><span class="line">指定 intent MIME 类型，如“image/png”。此指定只能声明一次。</span><br><span class="line">-c category</span><br><span class="line">指定 intent 类别，如“android.intent.category.APP_CONTACTS”。</span><br><span class="line">-n component</span><br><span class="line">指定带有软件包名称前缀的组件名称以创建显式 intent，如“com.example.app/.ExampleActivity”。</span><br><span class="line">-f flags</span><br><span class="line">将标志添加到 setFlags() 支持的 intent。</span><br></pre></td></tr></table></figure>

<h4 id="4-4-pm-调用软件包管理器"><a href="#4-4-pm-调用软件包管理器" class="headerlink" title="4.4 pm 调用软件包管理器"></a>4.4 pm 调用软件包管理器</h4><p>查看帮助</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line">shell@JDtab:/ $ pm</span><br><span class="line">usage: pm list packages [-f] [-d] [-e] [-s] [-3] [-i] [-u] [--user USER_ID] [FILTER]</span><br><span class="line">       pm list permission-groups</span><br><span class="line">       pm list permissions [-g] [-f] [-d] [-u] [GROUP]</span><br><span class="line">       pm list instrumentation [-f] [TARGET-PACKAGE]</span><br><span class="line">       pm list features</span><br><span class="line">       pm list libraries</span><br><span class="line">       pm list users</span><br><span class="line">       pm path PACKAGE</span><br><span class="line">       pm dump PACKAGE</span><br><span class="line">       pm install [-lrtsfd] [-i PACKAGE] [--user USER_ID] [PATH]</span><br><span class="line">       pm install-create [-lrtsfdp] [-i PACKAGE] [-S BYTES]</span><br><span class="line">               [--install-location 0/1/2]</span><br><span class="line">               [--force-uuid internal|UUID]</span><br><span class="line">       pm install-write [-S BYTES] SESSION_ID SPLIT_NAME [PATH]</span><br><span class="line">       pm install-commit SESSION_ID</span><br><span class="line">       pm install-abandon SESSION_ID</span><br><span class="line">       pm uninstall [-k] [--user USER_ID] PACKAGE</span><br><span class="line">       pm set-installer PACKAGE INSTALLER</span><br><span class="line">       pm move-package PACKAGE [internal|UUID]</span><br><span class="line">       pm move-primary-storage [internal|UUID]</span><br><span class="line">       pm clear [--user USER_ID] PACKAGE</span><br><span class="line">       pm enable [--user USER_ID] PACKAGE_OR_COMPONENT</span><br><span class="line">       pm disable [--user USER_ID] PACKAGE_OR_COMPONENT</span><br><span class="line">       pm disable-user [--user USER_ID] PACKAGE_OR_COMPONENT</span><br><span class="line">       pm disable-until-used [--user USER_ID] PACKAGE_OR_COMPONENT</span><br><span class="line">       pm hide [--user USER_ID] PACKAGE_OR_COMPONENT</span><br><span class="line">       pm unhide [--user USER_ID] PACKAGE_OR_COMPONENT</span><br><span class="line">       pm grant [--user USER_ID] PACKAGE PERMISSION</span><br><span class="line">       pm revoke [--user USER_ID] PACKAGE PERMISSION</span><br><span class="line">       pm reset-permissions</span><br><span class="line">       pm set-app-link [--user USER_ID] PACKAGE &#123;always|ask|never|undefined&#125;</span><br><span class="line">       pm get-app-link [--user USER_ID] PACKAGE</span><br><span class="line">       pm set-install-location [0/auto] [1/internal] [2/external]</span><br><span class="line">       pm get-install-location</span><br><span class="line">       pm set-permission-enforced PERMISSION [true|false]</span><br><span class="line">       pm trim-caches DESIRED_FREE_SPACE [internal|UUID]</span><br><span class="line">       pm create-user [--profileOf USER_ID] [--managed] USER_NAME</span><br><span class="line">       pm remove-user USER_ID</span><br><span class="line">       pm get-max-users</span><br><span class="line"></span><br><span class="line">pm list packages: prints all packages, optionally only</span><br><span class="line">  those whose package name contains the text in FILTER.  Options:</span><br><span class="line">    -f: see their associated file.</span><br><span class="line">    -d: filter to only show disbled packages.</span><br><span class="line">    -e: filter to only show enabled packages.</span><br><span class="line">    -s: filter to only show system packages.</span><br><span class="line">    -3: filter to only show third party packages.</span><br><span class="line">    -i: see the installer for the packages.</span><br><span class="line">    -u: also include uninstalled packages.</span><br><span class="line"></span><br><span class="line">pm list permission-groups: prints all known permission groups.</span><br><span class="line"></span><br><span class="line">pm list permissions: prints all known permissions, optionally only</span><br><span class="line">  those in GROUP.  Options:</span><br><span class="line">    -g: organize by group.</span><br><span class="line">    -f: print all information.</span><br><span class="line">    -s: short summary.</span><br><span class="line">    -d: only list dangerous permissions.</span><br><span class="line">    -u: list only the permissions users will see.</span><br><span class="line"></span><br><span class="line">pm list instrumentation: use to list all test packages; optionally</span><br><span class="line">  supply &lt;TARGET-PACKAGE&gt; to list the test packages for a particular</span><br><span class="line">  application.  Options:</span><br><span class="line">    -f: list the .apk file for the test package.</span><br><span class="line"></span><br><span class="line">pm list features: prints all features of the system.</span><br><span class="line"></span><br><span class="line">pm list users: prints all users on the system.</span><br><span class="line"></span><br><span class="line">pm path: print the path to the .apk of the given PACKAGE.</span><br><span class="line"></span><br><span class="line">pm dump: print system state associated with the given PACKAGE.</span><br><span class="line"></span><br><span class="line">pm install: install a single legacy package</span><br><span class="line">pm install-create: create an install session</span><br><span class="line">    -l: forward lock application</span><br><span class="line">    -r: replace existing application</span><br><span class="line">    -t: allow test packages</span><br><span class="line">    -i: specify the installer package name</span><br><span class="line">    -s: install application on sdcard</span><br><span class="line">    -f: install application on internal flash</span><br><span class="line">    -d: allow version code downgrade</span><br><span class="line">    -p: partial application install</span><br><span class="line">    -g: grant all runtime permissions</span><br><span class="line">    -S: size in bytes of entire session</span><br><span class="line"></span><br><span class="line">pm install-write: write a package into existing session; path may</span><br><span class="line">  be &apos;-&apos; to read from stdin</span><br><span class="line">    -S: size in bytes of package, required for stdin</span><br><span class="line"></span><br><span class="line">pm install-commit: perform install of fully staged session</span><br><span class="line">pm install-abandon: abandon session</span><br><span class="line"></span><br><span class="line">pm set-installer: set installer package name</span><br><span class="line"></span><br><span class="line">pm uninstall: removes a package from the system. Options:</span><br><span class="line">    -k: keep the data and cache directories around after package removal.</span><br><span class="line"></span><br><span class="line">pm clear: deletes all data associated with a package.</span><br><span class="line"></span><br><span class="line">pm enable, disable, disable-user, disable-until-used: these commands</span><br><span class="line">  change the enabled state of a given package or component (written</span><br><span class="line">  as &quot;package/class&quot;).</span><br><span class="line"></span><br><span class="line">pm grant, revoke: these commands either grant or revoke permissions</span><br><span class="line">    to apps. The permissions must be declared as used in the app&apos;s</span><br><span class="line">    manifest, be runtime permissions (protection level dangerous),</span><br><span class="line">    and the app targeting SDK greater than Lollipop MR1.</span><br><span class="line"></span><br><span class="line">pm reset-permissions: revert all runtime permissions to their default state.</span><br><span class="line"></span><br><span class="line">pm get-install-location: returns the current install location.</span><br><span class="line">    0 [auto]: Let system decide the best location</span><br><span class="line">    1 [internal]: Install on internal device storage</span><br><span class="line">    2 [external]: Install on external media</span><br><span class="line"></span><br><span class="line">pm set-install-location: changes the default install location.</span><br><span class="line">  NOTE: this is only intended for debugging; using this can cause</span><br><span class="line">  applications to break and other undersireable behavior.</span><br><span class="line">    0 [auto]: Let system decide the best location</span><br><span class="line">    1 [internal]: Install on internal device storage</span><br><span class="line">    2 [external]: Install on external media</span><br><span class="line"></span><br><span class="line">pm trim-caches: trim cache files to reach the given free space.</span><br><span class="line"></span><br><span class="line">pm create-user: create a new user with the given USER_NAME,</span><br><span class="line">  printing the new user identifier of the user.</span><br><span class="line"></span><br><span class="line">pm remove-user: remove the user with the given USER_IDENTIFIER,</span><br><span class="line">  deleting all data associated with that user</span><br><span class="line"></span><br><span class="line">1|shell@JDtab:/ $</span><br></pre></td></tr></table></figure>

<h5 id="4-4-1-list"><a href="#4-4-1-list" class="headerlink" title="4.4.1 list"></a>4.4.1 list</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">list packages [options] filter	输出所有软件包，或者，仅输出包名称包含 filter 中的文本的软件包。</span><br><span class="line"> </span><br><span class="line">选项：</span><br><span class="line"></span><br><span class="line">-f：查看它们的关联文件。</span><br><span class="line">-d：进行过滤以仅显示已停用的软件包。</span><br><span class="line">-e：进行过滤以仅显示已启用的软件包。</span><br><span class="line">-s：进行过滤以仅显示系统软件包。</span><br><span class="line">-3：进行过滤以仅显示第三方软件包。</span><br><span class="line">-i：查看软件包的安装程序。</span><br><span class="line">-u：也包括卸载的软件包。</span><br><span class="line">--user user_id：要查询的用户空间。</span><br><span class="line">例:</span><br><span class="line">adb shell pm list packages</span><br><span class="line">adb shell pm list packages -s 系统app</span><br><span class="line">adb shell pm list packages -3 第三方app</span><br></pre></td></tr></table></figure>

<h5 id="4-4-2-install-and-uninstall"><a href="#4-4-2-install-and-uninstall" class="headerlink" title="4.4.2 install and uninstall"></a>4.4.2 install and uninstall</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">install [options] path	将软件包（通过 path 指定）安装到系统。</span><br><span class="line">选项：</span><br><span class="line"></span><br><span class="line">-l：安装具有转发锁定功能的软件包。</span><br><span class="line">-r：重新安装现有应用，保留其数据。</span><br><span class="line">-t：允许安装测试 APK。</span><br><span class="line">-i installer_package_name：指定安装程序软件包名称。</span><br><span class="line">-s：在共享的大容量存储（如 sdcard）上安装软件包。</span><br><span class="line">-f：在内部系统内存上安装软件包。</span><br><span class="line">-d：允许版本代码降级。</span><br><span class="line">-g：授予应用清单中列出的所有权限。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">uninstall [options] package	从系统中移除软件包。</span><br><span class="line">选项：</span><br><span class="line"></span><br><span class="line">-k：移除软件包后保留数据和缓存目录。</span><br></pre></td></tr></table></figure>

<h5 id="4-4-3-清除数据和缓存"><a href="#4-4-3-清除数据和缓存" class="headerlink" title="4.4.3 清除数据和缓存"></a>4.4.3 清除数据和缓存</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm clear 包名</span><br><span class="line"></span><br><span class="line">例 清除qq数据</span><br><span class="line">1|shell@JDtab:/ $ pm clear com.tencent.mobileqq</span><br></pre></td></tr></table></figure>

<h4 id="4-5-ps-进程查看和操作"><a href="#4-5-ps-进程查看和操作" class="headerlink" title="4.5 ps 进程查看和操作"></a>4.5 ps 进程查看和操作</h4><p>帮助</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">adb shell ps --help</span><br><span class="line"></span><br><span class="line">usage: ps [-AadefLlnwZ] [-gG GROUP,] [-k FIELD,] [-o FIELD,] [-p PID,] [-t TTY,] [-uU USER,]</span><br><span class="line"></span><br><span class="line">List processes.</span><br><span class="line"></span><br><span class="line">Which processes to show (selections may be comma separated lists):</span><br><span class="line"></span><br><span class="line">-A	All processes</span><br><span class="line">-a	Processes with terminals that aren&apos;t session leaders</span><br><span class="line">-d	All processes that aren&apos;t session leaders</span><br><span class="line">-e	Same as -A</span><br><span class="line">-g	Belonging to GROUPs</span><br><span class="line">-G	Belonging to real GROUPs (before sgid)</span><br><span class="line">-p	PIDs (--pid)</span><br><span class="line">-P	Parent PIDs (--ppid)</span><br><span class="line">-s	In session IDs</span><br><span class="line">-t	Attached to selected TTYs</span><br><span class="line">-T	Show threads</span><br><span class="line">-u	Owned by USERs</span><br><span class="line">-U	Owned by real USERs (before suid)</span><br><span class="line"></span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<p>常用进程查看操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell ps | grep 关键字  :显示进程</span><br><span class="line">adb shell cat/proc/进程id/oom_adj  显示进程优先级</span><br><span class="line">adb shell kill [pid]</span><br></pre></td></tr></table></figure>

<p>例:显示所有腾讯app进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">adb shell ps | grep tencent</span><br><span class="line"></span><br><span class="line">u0_a156        544   638 1313424  60448 0                   0 S com.tencent.tim:Daemon</span><br><span class="line">u0_a156        623   638 1314488  60152 0                   0 S com.tencent.tim:assist</span><br><span class="line">u0_a182        857   638 1385176  78028 0                   0 S com.tencent.mobileqq:MSF</span><br><span class="line">u0_a165       1636   638 2473248 323928 0                   0 S com.tencent.mm</span><br><span class="line">u0_a165       2204   638 2090388 117860 0                   0 S com.tencent.mm:push</span><br><span class="line">system       10200   637 3924720  40540 0                   0 S com.tencent.soter.soterserver</span><br><span class="line">u0_a156      10335   638 1334496  68572 0                   0 S com.tencent.tim:MSF</span><br><span class="line">u0_a156      23472   638 1396960 107396 0                   0 S com.tencent.tim:mail</span><br></pre></td></tr></table></figure>

<h4 id="4-6-输入-input"><a href="#4-6-输入-input" class="headerlink" title="4.6 输入 input"></a>4.6 输入 input</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">input  &lt;command&gt; [&lt;arg&gt;...]</span><br><span class="line"></span><br><span class="line">查看帮助</span><br><span class="line">shell@JDtab:/ $ input help</span><br><span class="line">Error: Unknown command: help</span><br><span class="line">Usage: input [&lt;source&gt;] &lt;command&gt; [&lt;arg&gt;...]</span><br><span class="line"></span><br><span class="line">The sources are: </span><br><span class="line">      mouse</span><br><span class="line">      keyboard</span><br><span class="line">      joystick</span><br><span class="line">      touchnavigation</span><br><span class="line">      touchpad</span><br><span class="line">      trackball</span><br><span class="line">      stylus</span><br><span class="line">      dpad</span><br><span class="line">      touchscreen</span><br><span class="line">      gamepad</span><br><span class="line"></span><br><span class="line">The commands and default sources are:</span><br><span class="line">      text &lt;string&gt; (Default: touchscreen)</span><br><span class="line">      keyevent [--longpress] &lt;key code number or name&gt; ... (Default: keyboard)</span><br><span class="line">      tap &lt;x&gt; &lt;y&gt; (Default: touchscreen)</span><br><span class="line">      swipe &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; [duration(ms)] (Default: touchscreen)</span><br><span class="line">      press (Default: trackball)</span><br><span class="line">      roll &lt;dx&gt; &lt;dy&gt; (Default: trackball)</span><br><span class="line">      3dtouch &lt;x&gt; &lt;y&gt; &lt;z&gt;(Default: touchscreen)</span><br><span class="line">shell@JDtab:/ $ </span><br><span class="line"></span><br><span class="line">sources? 好像用不上 主要是commands的使用</span><br><span class="line"></span><br><span class="line">模拟输入文字</span><br><span class="line">adb shell input text &quot;hahah&quot; 注意输入中文时键盘模式需要是中文 同理英文</span><br><span class="line"></span><br><span class="line">模拟点击屏幕</span><br><span class="line">input tap 123 312     </span><br><span class="line"></span><br><span class="line">模拟模拟按键</span><br><span class="line">input keyevent 3 返回桌面</span><br><span class="line">常用按键 event</span><br><span class="line">1	menu	KEYCODE_MENU</span><br><span class="line">3	home	KEYCODE_HOME</span><br><span class="line">4	back	KEYCODE_BACK</span><br><span class="line">21	光标左移	KEYCODE_DPAD_LEFT</span><br><span class="line">22	光标右移	KEYCODE_DPAD_RIGHT</span><br><span class="line">67	删除	KEYCODE_DEL</span><br></pre></td></tr></table></figure>

<h4 id="4-7-截图和录屏"><a href="#4-7-截图和录屏" class="headerlink" title="4.7 截图和录屏"></a>4.7 截图和录屏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">截图</span><br><span class="line">adb shell screencap  /sdcard/我是截图.png  </span><br><span class="line"></span><br><span class="line">录屏</span><br><span class="line">如果不设置时间默认3分钟, 使用 --time-limit 设置截屏时间</span><br><span class="line">adb shell screenrecord /sdcard/我是视频.mp4 --time-limit 12</span><br><span class="line">录屏帮助</span><br><span class="line">screedrecord --help</span><br><span class="line"></span><br><span class="line">截图和录屏完毕后可退出 shell,使用  `adb pull /sdcard/我是视频.mp4` 把文件从手机复制到电脑</span><br></pre></td></tr></table></figure>

<h4 id="4-8-monkey"><a href="#4-8-monkey" class="headerlink" title="4.8 monkey"></a>4.8 monkey</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">查看帮助</span><br><span class="line">shell@JDtab:/ $ monkey help                                                    </span><br><span class="line">** Error: Count is not a number</span><br><span class="line">usage: monkey [-p ALLOWED_PACKAGE [-p ALLOWED_PACKAGE] ...]</span><br><span class="line">              [-c MAIN_CATEGORY [-c MAIN_CATEGORY] ...]</span><br><span class="line">              [--ignore-crashes] [--ignore-timeouts]</span><br><span class="line">              [--ignore-security-exceptions]</span><br><span class="line">              [--monitor-native-crashes] [--ignore-native-crashes]</span><br><span class="line">              [--kill-process-after-error] [--hprof]</span><br><span class="line">              [--pct-touch PERCENT] [--pct-motion PERCENT]</span><br><span class="line">              [--pct-trackball PERCENT] [--pct-syskeys PERCENT]</span><br><span class="line">              [--pct-nav PERCENT] [--pct-majornav PERCENT]</span><br><span class="line">              [--pct-appswitch PERCENT] [--pct-flip PERCENT]</span><br><span class="line">              [--pct-anyevent PERCENT] [--pct-pinchzoom PERCENT]</span><br><span class="line">              [--pct-permission PERCENT]</span><br><span class="line">              [--pkg-blacklist-file PACKAGE_BLACKLIST_FILE]</span><br><span class="line">              [--pkg-whitelist-file PACKAGE_WHITELIST_FILE]</span><br><span class="line">              [--wait-dbg] [--dbg-no-events]</span><br><span class="line">              [--setup scriptfile] [-f scriptfile [-f scriptfile] ...]</span><br><span class="line">              [--port port]</span><br><span class="line">              [-s SEED] [-v [-v] ...]</span><br><span class="line">              [--throttle MILLISEC] [--randomize-throttle]</span><br><span class="line">              [--profile-wait MILLISEC]</span><br><span class="line">              [--device-sleep-time MILLISEC]</span><br><span class="line">              [--randomize-script]</span><br><span class="line">              [--script-log]</span><br><span class="line">              [--bugreport]</span><br><span class="line">              [--periodic-bugreport]</span><br><span class="line">              [--permission-target-system]</span><br><span class="line">              COUNT</span><br><span class="line"></span><br><span class="line">255|shell@JDtab:/ $ </span><br><span class="line">例:</span><br><span class="line">adb shell monkey -v -p your.package.name 500</span><br></pre></td></tr></table></figure>

<h3 id="五-dumpsys-将系统数据转储到屏幕"><a href="#五-dumpsys-将系统数据转储到屏幕" class="headerlink" title="五.dumpsys 将系统数据转储到屏幕"></a>五.dumpsys 将系统数据转储到屏幕</h3><p><a href="https://developer.android.com/studio/command-line/dumpsys" target="_blank" rel="noopener">developer.android.com</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">命令格式</span><br><span class="line">adb shell dumpsys [-t timeout] [--help | -l | --skip services | service [arguments] | -c | -h]</span><br><span class="line"></span><br><span class="line">选项说明</span><br><span class="line">-t timeout	指定时间 默认10秒</span><br><span class="line">--help	 查看帮助</span><br><span class="line">-l	列出可用参数列表</span><br><span class="line">--skip services	Specifies the services that you do not want to include in the output.</span><br><span class="line">service [arguments]	Specifies the service that you want to output. Some services may allow you to pass optional arguments. You can learn about these optional arguments by passing the -h option with the service, as shown below:</span><br><span class="line">adb shell dumpsys procstats -h</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">-c	When specifying certain services, append this option to output data in a machine-friendly format.</span><br><span class="line">-h	For certain services, append this option to see help text and additional options for that service.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">常用</span><br><span class="line">dumpsys activity AMS服务相关信息</span><br><span class="line">dumpsys window  WMS服务相关信息</span><br><span class="line">dumpsys cpuinfo CPU信息</span><br><span class="line">dumpsys meminfo 内存信息</span><br></pre></td></tr></table></figure>

<ul>
<li>dumpsys activity</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">查看帮助</span><br><span class="line">adb shell dumpsys activity -h</span><br><span class="line"> </span><br><span class="line">Activity manager dump options:</span><br><span class="line">  [-a] [-c] [-p PACKAGE] [-h] [WHAT] ...</span><br><span class="line">  WHAT may be one of:</span><br><span class="line">    a[ctivities]: activity stack state //查看activity</span><br><span class="line">    r[recents]: recent activities state </span><br><span class="line">    b[roadcasts] [PACKAGE_NAME] [history [-s]]: broadcast state</span><br><span class="line">    broadcast-stats [PACKAGE_NAME]: aggregated broadcast statistics</span><br><span class="line">    i[ntents] [PACKAGE_NAME]: pending intent state</span><br><span class="line">    p[rocesses] [PACKAGE_NAME]: process state</span><br><span class="line">    o[om]: out of memory management</span><br><span class="line">    perm[issions]: URI permission grant state</span><br><span class="line">    prov[iders] [COMP_SPEC ...]: content provider state</span><br><span class="line">    provider [COMP_SPEC]: provider client-side state</span><br><span class="line">    s[ervices] [COMP_SPEC ...]: service state //服务</span><br><span class="line">    as[sociations]: tracked app associations</span><br><span class="line">    settings: currently applied config settings</span><br><span class="line">    service [COMP_SPEC]: service client-side state</span><br><span class="line">    package [PACKAGE_NAME]: all state related to given package</span><br><span class="line">    all: dump all activities</span><br><span class="line">    top: dump the top activity</span><br><span class="line">  WHAT may also be a COMP_SPEC to dump activities.</span><br><span class="line">  COMP_SPEC may be a component name (com.foo/.myApp),</span><br><span class="line">    a partial substring in a component name, a</span><br><span class="line">    hex object identifier.</span><br><span class="line">  -a: include all available server state.</span><br><span class="line">  -c: include client state.</span><br><span class="line">  -p: limit output to given package.</span><br><span class="line">  --checkin: output checkin format, resetting data.</span><br><span class="line">  --C: output checkin format, not resetting data.</span><br><span class="line">  --proto: output dump in protocol buffer format.</span><br><span class="line">  --autofill: dump just the autofill-related state of an activity</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">例:</span><br><span class="line">   	查看acitivty信息</span><br><span class="line">   	adb shell dumpsys activity activities 或者 adb shell dumpsys activity a   </span><br><span class="line">	查看微信所有服务</span><br><span class="line"> 	adb shell dumpsys activity s com.tencent.mm</span><br></pre></td></tr></table></figure>

<p>查看当前activity</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys activity activities | grep &quot;mResumedActivity&quot;</span><br></pre></td></tr></table></figure>

<p><a href="https://developer.android.com/studio/command-line/adb?hl=zh-cn" target="_blank" rel="noopener">详细Adb常用命令</a>   </p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://qingyc.github.io/2019/08/18/adb/" title="adb" target="_blank" rel="external">http://qingyc.github.io/2019/08/18/adb/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/qingyc" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpeg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/qingyc" target="_blank"><span class="text-dark">青同学</span><small class="ml-1x">Android Developer &amp; 白日梦患者</small></a></h3>
        <div>个人简介。</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    
    <li class="next">
      <a href="/2019/08/18/kotlin泛型相关-reifield/" title="kotlin泛型相关_reifield"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/qingyc" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        <!--	Theme by <a href="https://github.com/qingyc" target="_blank"> cofess </a>base on <a href="https://github.com/qingyc/hexo-theme-pure" target="_blank">pure</a>.-->
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>